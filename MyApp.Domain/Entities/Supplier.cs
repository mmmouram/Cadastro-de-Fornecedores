using System;\nusing System.ComponentModel.DataAnnotations;\nusing MyApp.Domain.Enums;\nusing MyApp.Domain.ValueObjects;\n\nnamespace MyApp.Domain.Entities\n{\n    public class Supplier\n    {\n        public Guid Id { get; private set; }\n        public string Cnpj { get; private set; }\n        public PersonType TipoPessoa { get; private set; }\n\n        private Supplier() { }\n\n        public Supplier(string cnpj, PersonType tipoPessoa)\n        {\n            var cnpjVo = new Cnpj(cnpj);\n            if (tipoPessoa == PersonType.MEI && !cnpjVo.IsNumeric)\n                throw new ValidationException("MEI aceita somente CNPJ numérico");\n            if (!cnpjVo.IsValid)\n                throw new ValidationException(cnpjVo.ValidationErrorMessage);\n\n            Id = Guid.NewGuid();\n            Cnpj = cnpjVo.Value;\n            TipoPessoa = tipoPessoa;\n        }\n\n        public void Update(string cnpj, PersonType tipoPessoa)\n        {\n            var cnpjVo = new Cnpj(cnpj);\n            if (tipoPessoa == PersonType.MEI && !cnpjVo.IsNumeric)\n                throw new ValidationException("MEI aceita somente CNPJ numérico");\n            if (!cnpjVo.IsValid)\n                throw new ValidationException(cnpjVo.ValidationErrorMessage);\n\n            Cnpj = cnpjVo.Value;\n            TipoPessoa = tipoPessoa;\n        }\n    }\n}\n